# CSS Simplification Planning - Complete Guide

This directory contains all planning documents and analysis for the CSS simplification project.

## 🎯 Project Goal

**Reduce CSS from 11,955 lines to ~8,000 lines (30% reduction) by consolidating 618 classes to ~400-450 classes.**

- Keep the site beautiful and functional
- Use existing patterns and consolidate similar components
- Work incrementally with continuous validation
- No visual regressions on any of the 13 pages

## 📚 Documents in This Directory

### 1. **START HERE: ACTION-PLAN.md** 👈 
**Step-by-step execution guide with weekly phases**

- Phase 1: Font Awesome Cleanup (Week 1, Days 1-2)
- Phase 2: Meeting Components (Week 1, Days 3-5)
- Phase 3: Card System (Week 2, Days 1-2)
- Phase 4: Button System (Week 2, Day 3)
- Phase 5: Step/Chapter Components (Week 2, Days 4-5)
- Phase 6: Single-Use Classes (Week 3, Day 1)
- Phase 7: Documentation (Week 3, Days 2-3)

Each phase includes:
- Specific line targets
- Risk assessment
- Exact commands to run
- Git commit templates
- Testing checklists

### 2. **CHEAT-SHEET.md**
**Quick reference for daily work**

- Essential commands
- Git commit templates
- BEM naming patterns
- CSS custom properties examples
- Before-commit checklist
- Emergency rollback procedures
- Pro tips and common pitfalls

### 3. **css-simplification-plan.md**
**Comprehensive strategy document**

- Full context and rationale
- Detailed phase breakdowns
- Success criteria and metrics
- Timeline estimates
- Rollback procedures
- Lessons learned from previous attempt

### 4. **css-usage-analysis.txt**
**Actual usage data from analysis script**

- 618 unique CSS classes identified
- Top 100 most-used classes
- Component families grouped by prefix
- Single-use classes (consolidation candidates)
- Classes used 2-3 times (review candidates)

This file is regenerated by running:
```bash
./scripts/analyze-css-usage.sh
```

## 🚀 Quick Start

```bash
# 1. Create safety branch
git checkout -b css-simplification-v2
git push -u origin css-simplification-v2

# 2. Verify baseline works
npm run validate
npm run test:htmlproof

# 3. Start local server and take screenshots
npm run serve
# Manually capture screenshots of all 13 pages

# 4. Begin Phase 1 (Font Awesome Cleanup)
# Follow steps in ACTION-PLAN.md
```

## 📊 Current State (Baseline)

**Files:** 25 SCSS files in 7-1 architecture
```
docs/_sass/
├── abstracts/          (2 files: tokens, mixins)
├── base/               (1 file: critical styles)
├── components/         (17 files: hero, buttons, cards, metrics, etc.)
├── layout/             (3 files: header, grid, meeting)
└── pages/              (2 files: 404, offline)
```

**Statistics:**
- Total lines: 11,955
- Total classes: 618 unique
- Total pages: 13 HTML files
- Top class usage: `fas` (792x), `metric-item` (158x), `section-card` (134x)

## 🎯 Target State (30% Reduction)

**Statistics:**
- Total lines: ~8,000 (33% reduction)
- Total classes: ~400-450 (30% reduction)
- Component consolidation:
  - Font Awesome: 89 → 35 icons (-500 lines)
  - Meeting classes: 48 → 20 (-800 lines)
  - Card system: 8+ → 3 types (-700 lines)
  - Button system: 12 → 6 variants (-300 lines)
  - Step/Chapter: 10+ → 5 classes (-600 lines)
  - Single-use cleanup: (-400 lines)

## ✅ Success Criteria

- [ ] No visual regressions (compare screenshots)
- [ ] All 13 pages render correctly
- [ ] All interactive elements work (hover, focus, transitions)
- [ ] Passes `npm run validate`
- [ ] Passes `npm run test:htmlproof`
- [ ] CSS reduced by 30-35%
- [ ] Classes reduced by 30-35%
- [ ] Better organized with unified component patterns
- [ ] Well documented for future maintenance

## 📋 13 Pages to Test

1. index.html - Homepage with hero, DORA metrics
2. meetings.html - Meeting overview
3. meetings/meeting-0/index.html - Introduction
4. meetings/meeting-1/index.html - Chapters 1-3
5. meetings/meeting-2/index.html - Chapters 4-6
6. meetings/meeting-3/index.html - Chapters 7-9
7. meetings/meeting-4/index.html - Chapters 10-11 + Transformation
8. prompts.html - NotebookLM prompts
9. resources.html - Resource hub
10. transformation-complete/index.html - Completion page
11. 404.html - Error page
12. offline.html - Offline page
13. feeds/index.html - RSS feeds

## 🔧 Essential Commands

```bash
# Fast feedback (use constantly)
npm run lint:css          # CSS linting (~2 sec)
npm run build             # Build site (~10 sec)
npm run serve             # Local server

# Before every commit
npm run validate          # Full validation (~15 sec)

# Verify all pages
npm run test:htmlproof    # HTML proof test

# Check progress
find docs/_sass -type f -name "*.scss" -exec wc -l {} + | tail -1

# Rerun analysis
./scripts/analyze-css-usage.sh
```

## 📈 Progress Tracking

Track your progress by updating this table:

| Phase | Target Lines | Status | Completed |
|-------|--------------|--------|-----------|
| Start | 11,955 | ✅ Complete | 2025-01-24 |
| Phase 1: Icons | -500 | ⏳ Pending | ___ |
| Phase 2: Meetings | -800 | ⏳ Pending | ___ |
| Phase 3: Cards | -700 | ⏳ Pending | ___ |
| Phase 4: Buttons | -300 | ⏳ Pending | ___ |
| Phase 5: Steps | -600 | ⏳ Pending | ___ |
| Phase 6: Cleanup | -400 | ⏳ Pending | ___ |
| **Target** | **8,655** | ⏳ Pending | ___ |

## 🎓 Key Principles

1. **Safety First** - Use git branches, take screenshots, validate continuously
2. **Incremental Changes** - Small commits, test after each change
3. **Maintain Beauty** - Visual design is a feature, not a bug
4. **Document Everything** - Future you will thank present you
5. **Validate Continuously** - `npm run validate` before every commit
6. **No Breaking Changes** - Users should see no difference

## 📖 Related Documents

- `/scripts/analyze-css-usage.sh` - Usage analysis script
- `/todos.txt` - Updated with CSS simplification status
- `/docs/.github/copilot-instructions.md` - Will be updated with new patterns
- `/README.md` - Will be updated to reflect new architecture

## 💡 Pro Tips

- Work on one component family at a time
- Commit after each component (don't batch)
- Test visually, not just with automation
- Keep baseline screenshots for comparison
- Push to branch daily (backup your work)
- If stuck for >30 minutes, ask for help

## 🚨 Emergency Contacts

If you get stuck or need help:
1. Review CHEAT-SHEET.md for common issues
2. Check git history for recent changes
3. Use rollback procedures if needed
4. Create an issue in the repo
5. Ask in team chat

## 📅 Timeline

**Estimated Total: 21-29 hours over 2-3 weeks**

- Week 1: Font Awesome + Meeting Components (8-10 hours)
- Week 2: Cards + Buttons + Steps (10-12 hours)
- Week 3: Cleanup + Documentation (3-7 hours)

Can be done incrementally - no need to rush!

## 🎉 Ready to Start?

1. **Read:** ACTION-PLAN.md (start with Phase 1)
2. **Reference:** CHEAT-SHEET.md (keep open while working)
3. **Execute:** Follow the phases one at a time
4. **Track:** Update progress table above
5. **Celebrate:** Commit after each successful phase!

---

**Good luck! This is a well-planned refactor with clear goals and safety measures. You've got this! 🚀**