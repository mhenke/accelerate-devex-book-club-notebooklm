<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#7adad1" />
    <title>{{ page.title | default: site.title }}</title>

    <!-- Performance optimizations -->
    {% include performance-optimizations.html %}

    <!-- RSS Feed Discovery -->
    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.title }} - Podcast Feed"
      href="{{ site.url }}{{ site.baseurl }}/podcast.xml"
    />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.title }} - Video Feed"
      href="{{ site.url }}{{ site.baseurl }}/videos.xml"
    />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="{{ site.title }} - Complete Media Feed"
      href="{{ site.url }}{{ site.baseurl }}/media-feed.xml"
    />

    <!-- Open Graph / Social Media Preview -->
    <meta property="og:type" content="website" />
    <meta
      property="og:title"
      content="{{ page.title | default: site.title }}"
    />
    <meta
      property="og:description"
      content="{{ page.description | default: site.description }}"
    />
    <meta
      property="og:url"
      content="{{ site.url }}{{ site.baseurl }}{{ page.url }}"
    />
    <meta property="og:site_name" content="{{ site.title }}" />
    <meta
      property="og:image"
      content="{{ site.url }}{{ site.baseurl }}/assets/images/og-preview.png"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="{{ page.title | default: site.title }}"
    />
    <meta
      name="twitter:description"
      content="{{ page.description | default: site.description }}"
    />
    <meta
      name="twitter:image"
      content="{{ site.url }}{{ site.baseurl }}/assets/images/og-preview.png"
    />

    <meta
      name="description"
      content="{{ page.description | default: site.description }}"
    />

    <!-- Accessibility -->
    <meta name="color-scheme" content="light" />

    <!-- Progressive Web App -->
    <link rel="manifest" href="{{ site.baseurl }}/manifest.json" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="{{ site.title }}" />

    <!-- Critical CSS - Now loaded from main.css via SCSS imports -->

    <!-- Non-critical CSS - Deferred loading -->
    <link
      rel="preload"
      href="{{ '/assets/main.css' | relative_url }}"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
      media="screen"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="{{ '/assets/main.css' | relative_url }}"
        media="screen"
      />
    </noscript>

    <!-- Font Awesome - Preload for performance with font-display swap -->
    <link
      rel="preload"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <noscript>
      <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
      />
    </noscript>
    <style>
      /* Font Awesome font-display override for better performance */
      @font-face {
        font-family: 'Font Awesome 6 Free';
        font-display: swap;
        src: local('Font Awesome 6 Free');
      }
      @font-face {
        font-family: 'Font Awesome 6 Brands';
        font-display: swap;
        src: local('Font Awesome 6 Brands');
      }
    </style>
  </head>
  <body>
    <!-- Skip navigation for screen readers -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Unified Site Header -->
  <header class="site-header" aria-label="Site header">
      <div class="site-header-content">
        <div class="site-nav__brand">
          <a href="{{ '/' | relative_url }}" class="site-nav__brand-link">
            <i
              class="fas fa-rocket site-nav__brand-icon"
              aria-hidden="true"
            ></i>
            <span class="site-nav__brand-text">
              <span class="site-nav__brand-title">Accelerate DevEx</span>
              <span class="site-nav__brand-subtitle">Book Club</span>
            </span>
          </a>
        </div>

        <!-- Hamburger Menu Button (Mobile) -->
        <button
          type="button"
          class="hamburger-menu"
          aria-label="Toggle navigation menu"
          aria-expanded="false"
          aria-controls="mobile-menu"
        >
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>

  <!-- Desktop Navigation -->
  <nav class="site-nav-main site-nav-desktop" aria-label="Primary navigation">
          <a
            href="{{ '/resources' | relative_url }}"
            class="site-nav-link{% if page.url contains '/resources' %} active{% endif %}"
          >
            <i class="fas fa-book-open"></i> Resources
          </a>
          <a
            href="{{ '/meetings' | relative_url }}"
            class="site-nav-link{% if page.url contains '/meetings' %} active{% endif %}"
          >
            <i class="fas fa-calendar"></i> Meetings
          </a>
          <a
            href="{{ '/feeds' | relative_url }}"
            class="site-nav-link{% if page.url contains '/feeds' %} active{% endif %}"
          >
            <i class="fas fa-rss"></i> Feeds
          </a>
          <a
            href="https://github.com/mhenke/accelerate-devex-book-club-notebooklm"
            target="_blank"
            rel="noopener"
            class="site-nav-link external"
          >
            <i class="fab fa-github"></i> GitHub
          </a>
        </nav>
      </div>

      <!-- Mobile Navigation Menu -->
      <nav class="site-nav-mobile" id="mobile-menu" aria-label="Mobile navigation">
        <a
          href="{{ '/resources' | relative_url }}"
          class="site-nav-link-mobile{% if page.url contains '/resources' %} active{% endif %}"
        >
          <i class="fas fa-book-open"></i> Resources
        </a>
        <a
          href="{{ '/meetings' | relative_url }}"
          class="site-nav-link-mobile{% if page.url contains '/meetings' %} active{% endif %}"
        >
          <i class="fas fa-calendar"></i> Meetings
        </a>
        <a
          href="{{ '/feeds' | relative_url }}"
          class="site-nav-link-mobile{% if page.url contains '/feeds' %} active{% endif %}"
        >
          <i class="fas fa-rss"></i> Feeds
        </a>
        <a
          href="https://github.com/mhenke/accelerate-devex-book-club-notebooklm"
          target="_blank"
          rel="noopener"
          class="site-nav-link-mobile external"
        >
          <i class="fab fa-github"></i> GitHub
        </a>
      </nav>
  </header>

    <main id="main-content" class="page-content" aria-label="Main content area">
      {{ content }}
    </main>

    <!-- Mobile Menu JavaScript -->
    <script src="{{ '/assets/js/utils.js' | relative_url }}" defer></script>
    <script src="{{ '/assets/js/mobile-menu.js' | relative_url }}" defer></script>
  </body>
</html>
