---
layout: default
---

<article class="meeting">
  <!-- Modern Hero Banner with DORA Color -->
  <div
    class="meeting-hero"
    style="background: linear-gradient(135deg, {{ page.dora_color | default: '#2196F3' }} 0%, {{ page.dora_color | default: '#2196F3' | append: '80' }} 100%)"
  >
    <div class="meeting-hero-content">
      <div class="meeting-meta-badge">
        <span class="meeting-week">Week {{ page.week | default: '1' }}</span>
        <span class="meeting-duration"
          >{{ page.duration | default: '1 Hour' }}</span
        >
      </div>
      <h1 class="meeting-title">{{ page.title }}</h1>
      {% if page.subtitle %}
      <h2 class="meeting-subtitle">{{ page.subtitle }}</h2>
      {% endif %} {% if page.chapters %}
      <div class="chapters-badge">
        <i class="fas fa-book"></i> Chapters {{ page.chapters }}
      </div>
      {% endif %}
    </div>
    <div class="meeting-icon">
      {% assign week = page.week | plus: 0 %} {% case week %} {% when 1 %}
      <i class="fas fa-rocket"></i>
      {% when 3 %}
      <i class="fas fa-users"></i>
      {% when 5 %}
      <i class="fas fa-sitemap"></i>
      {% when 7 %}
      <i class="fas fa-crown"></i>
      {% else %}
      <i class="fas fa-book"></i>
      {% endcase %}
    </div>
  </div>

  <div class="meeting-container">
    <div class="meeting-content">{{ content }}</div>

    <!-- Enhanced Navigation -->
    <nav class="meeting-navigation">
      {% assign meetings = site.meetings | sort: "week" %} {% assign
      current_index = nil %} {% assign prev_meeting = nil %} {% assign
      next_meeting = nil %}

      <!-- Find current meeting index -->
      {% for meeting in meetings %} {% if meeting.path == page.path %} {% assign
      current_index = forloop.index0 %} {% break %} {% endif %} {% endfor %}

      <!-- Set previous and next meetings -->
      {% if current_index != nil %} {% if current_index > 0 %} {% assign
      prev_index = current_index | minus: 1 %} {% assign prev_meeting =
      meetings[prev_index] %} {% endif %} {% assign max_index = meetings.size |
      minus: 1 %} {% if current_index < max_index %} {% assign next_index =
      current_index | plus: 1 %} {% assign next_meeting = meetings[next_index]
      %} {% endif %} {% endif %}

      <div class="nav-links">
        {% if prev_meeting %} {% assign prev_meeting_num = prev_meeting.path |
        split: '-' | last | split: '.' | first %}
        <a
          href="{{ prev_meeting.url | relative_url }}"
          class="nav-link prev meeting-{{ prev_meeting_num }}"
        >
          <div class="nav-icon">←</div>
          <div class="nav-content">
            <span class="nav-label">Previous</span>
            <span class="nav-title">{{ prev_meeting.title }}</span>
          </div>
        </a>
        {% else %}
        <!-- Back to main page when no previous meeting -->
        <a href="{{ '/' | relative_url }}" class="nav-link prev back-to-main">
          <div class="nav-icon">←</div>
          <div class="nav-content">
            <span class="nav-label">Back to</span>
            <span class="nav-title">Main Page</span>
          </div>
        </a>
        {% endif %} {% if next_meeting %} {% assign next_meeting_num =
        next_meeting.path | split: '-' | last | split: '.' | first %}
        <a
          href="{{ next_meeting.url | relative_url }}"
          class="nav-link next meeting-{{ next_meeting_num }}"
        >
          <div class="nav-content">
            <span class="nav-label">Next</span>
            <span class="nav-title">{{ next_meeting.title }}</span>
          </div>
          <div class="nav-icon">→</div>
        </a>
        {% elsif current_index == 3 %}
        <a
          href="{{ '/transformation-complete/' | relative_url }}"
          class="nav-link next completion-badge"
        >
          <div class="nav-content">
            <span class="nav-label">Next</span>
            <span class="nav-title">Transformation Complete!</span>
          </div>
          <div class="nav-icon">→</div>
        </a>
        {% endif %}
      </div>

      <!-- Meeting Progress Indicator -->
      <div class="meeting-progress">
        <div class="progress-bar">
          {% if current_index != nil %} {% assign progress_percent =
          current_index | plus: 1 | times: 100 | divided_by: meetings.size %}
          <div
            class="progress-fill"
            style="width: {{ progress_percent }}%"
          ></div>
          {% else %}
          <div class="progress-fill" style="width: 0%"></div>
          {% endif %}
        </div>
        <span class="progress-text">
          {% if current_index != nil %} {{ current_index | plus: 1 }} of {{
          meetings.size }} meetings {% else %} ? of {{ meetings.size }} meetings
          {% endif %}
        </span>
      </div>
    </nav>
  </div>
</article>

<style>
  /* Dynamic Meeting-Specific Color Variables */
  :root {
    --meeting-primary: {{ page.dora_color | default: '#2196F3' }};
    --meeting-light: {{ page.dora_color | default: '#2196F3' }}20;
    --meeting-bg: {{ page.dora_color | default: '#2196F3' }}08;
    --meeting-border: {{ page.dora_color | default: '#2196F3' }}40;
    --meeting-hover: {{ page.dora_color | default: '#2196F3' }}E6;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Find Discussion Questions sections and add class to their ol elements
    const headings = document.querySelectorAll('h2');
    headings.forEach((heading) => {
      if (heading.textContent.includes('Discussion Questions')) {
        const nextOl = heading.nextElementSibling;
        if (nextOl && nextOl.tagName === 'OL') {
          nextOl.classList.add('discussion-questions-list');
        }
      }
    });
  });
</script>
