// DRY Meeting Themes System
// =========================
// Eliminates 240+ lines of duplication while preserving exact color schemes

// =============================================================================
// MEETING THEME DATA - Single Source of Truth
// =============================================================================

// Meeting theme definitions (preserving your exact color schemes)
$meeting-themes: (
  1: (
    name: "foundation",
    primary: #0969da,    // GitHub blue - Primary brand color
    secondary: #1f6feb,  // Secondary blue
    accent: #388bfd,     // Accent blue
    surface: #f6f8fa,    // Light surface
    on-surface: #24292f  // Text on surface
  ),
  2: (
    name: "technical",
    primary: #1a7f37,    // GitHub green
    secondary: #238636,  // Secondary green
    accent: #2da44e,     // Accent green
    surface: #f0fff4,    // Light green surface
    on-surface: #0d2818  // Dark text on surface
  ),
  3: (
    name: "management",
    primary: #d97706,    // Orange primary
    secondary: #f59e0b,  // Secondary amber
    accent: #fbbf24,     // Accent yellow
    surface: #fffbeb,    // Light amber surface
    on-surface: #451a03  // Dark text on surface
  ),
  4: (
    name: "leadership",
    primary: #8b5cf6,    // Purple primary
    secondary: #a78bfa,  // Secondary purple
    accent: #c4b5fd,     // Accent lavender
    surface: #faf5ff,    // Light purple surface
    on-surface: #3c1361  // Dark text on surface
  )
);

// =============================================================================
// GENERATE THEME CSS CUSTOM PROPERTIES (Data-Driven)
// =============================================================================

@each $number, $theme in $meeting-themes {
  [data-meeting="#{$number}"] {
    // Direct theme tokens
    --theme-primary: #{map-get($theme, primary)};
    --theme-secondary: #{map-get($theme, secondary)};
    --theme-accent: #{map-get($theme, accent)};
    --theme-surface: #{map-get($theme, surface)};
    --theme-on-surface: #{map-get($theme, on-surface)};

    // Legacy compatibility tokens (for existing code)
    --meeting-primary: var(--theme-primary);
    --meeting-secondary: var(--theme-secondary);
    --meeting-accent: var(--theme-accent);
    --meeting-surface: var(--theme-surface);
    --meeting-on-surface: var(--theme-on-surface);
  }
}

// =============================================================================
// UNIVERSAL THEME APPLICATION (Placeholder for DRY Theming)
// =============================================================================

%meeting-themed-base {
  // Page-wide Material Design theme application
  background: var(--theme-surface);
  color: var(--theme-on-surface);

  // Typography follows theme colors
  h1, h2, h3, h4, h5, h6 {
    color: var(--theme-primary);
  }

  // Links use primary with accent hover
  a {
    color: var(--theme-primary);

    &:hover, &:focus {
      color: var(--theme-accent);
    }
  }

  // Buttons follow Material Design theme
  .btn, .btn--filled {
    background: var(--theme-primary);
    color: white;

    &:hover {
      background: var(--theme-secondary);
    }
  }

  // Component-specific overrides
  .card--dora::before,
  .card--meeting::before {
    background: var(--theme-primary);
  }

  .card__badge {
    background: var(--theme-surface);
    color: var(--theme-on-surface);
  }

  .card__icon {
    color: var(--theme-primary);
  }

  .card__number {
    background: var(--theme-primary);
  }
}

// Concrete class for new data-attribute system
.meeting-themed {
  @extend %meeting-themed-base;
}

// =============================================================================
// BACKWARD COMPATIBILITY CLASSES (for migration)
// =============================================================================

// Keep existing class names working during transition
.meeting-theme--1 {
  // Meeting 1: Foundation (Blue Theme)
  --theme-primary: #0969da;
  --theme-secondary: #1f6feb;
  --theme-accent: #388bfd;
  --theme-surface: #f6f8fa;
  --theme-on-surface: #24292f;
  --meeting-primary: var(--theme-primary);
  --meeting-secondary: var(--theme-secondary);
  --meeting-accent: var(--theme-accent);
  --meeting-surface: var(--theme-surface);
  --meeting-on-surface: var(--theme-on-surface);

  @extend %meeting-themed-base;
}

.meeting-theme--2 {
  // Meeting 2: Technical Excellence (Green Theme)
  --theme-primary: #1a7f37;
  --theme-secondary: #238636;
  --theme-accent: #2da44e;
  --theme-surface: #f0fff4;
  --theme-on-surface: #0d2818;
  --meeting-primary: var(--theme-primary);
  --meeting-secondary: var(--theme-secondary);
  --meeting-accent: var(--theme-accent);
  --meeting-surface: var(--theme-surface);
  --meeting-on-surface: var(--theme-on-surface);

  @extend %meeting-themed-base;
}

.meeting-theme--3 {
  // Meeting 3: Management (Orange Theme)
  --theme-primary: #d97706;
  --theme-secondary: #f59e0b;
  --theme-accent: #fbbf24;
  --theme-surface: #fffbeb;
  --theme-on-surface: #451a03;
  --meeting-primary: var(--theme-primary);
  --meeting-secondary: var(--theme-secondary);
  --meeting-accent: var(--theme-accent);
  --meeting-surface: var(--theme-surface);
  --meeting-on-surface: var(--theme-on-surface);

  @extend %meeting-themed-base;
}

.meeting-theme--4 {
  // Meeting 4: Leadership (Purple Theme)
  --theme-primary: #8b5cf6;
  --theme-secondary: #a78bfa;
  --theme-accent: #c4b5fd;
  --theme-surface: #faf5ff;
  --theme-on-surface: #3c1361;
  --meeting-primary: var(--theme-primary);
  --meeting-secondary: var(--theme-secondary);
  --meeting-accent: var(--theme-accent);
  --meeting-surface: var(--theme-surface);
  --meeting-on-surface: var(--theme-on-surface);

  @extend %meeting-themed-base;
}

// =============================================================================
// DYNAMIC THEME APPLICATION FOR LAYOUTS
// =============================================================================

// Meeting Hero Section Dynamic Theming
.meeting-hero {
  background: linear-gradient(
    135deg,
    var(--theme-primary, var(--meeting-1-primary)) 0%,
    var(--theme-secondary, var(--meeting-1-secondary)) 100%
  ) !important;
}

// Meeting Navigation Theme Application
.meeting-navigation {
  .nav-link {
    background: linear-gradient(
      135deg,
      var(--theme-primary, var(--meeting-1-primary)),
      var(--theme-secondary, var(--meeting-1-secondary))
    );
  }
}

// Meeting-specific Button Themes
.btn--meeting {
  background: linear-gradient(
    135deg,
    var(--theme-primary, var(--meeting-1-primary)),
    var(--theme-secondary, var(--meeting-1-secondary))
  );
  color: white;

  &:hover {
    background: linear-gradient(
      135deg,
      var(--theme-secondary, var(--meeting-1-secondary)),
      var(--theme-primary, var(--meeting-1-primary))
    );
    box-shadow: var(--elevation-3);
  }
}

// =============================================================================
// DYNAMIC COLOR INJECTION UTILITIES
// =============================================================================

// These classes replace inline styles throughout the site
.dynamic-primary {
  color: var(--theme-primary, var(--meeting-1-primary)) !important;
}

.dynamic-secondary {
  color: var(--theme-secondary, var(--meeting-1-secondary)) !important;
}

.dynamic-bg-primary {
  background: var(--theme-primary, var(--meeting-1-primary)) !important;
}

.dynamic-bg-secondary {
  background: var(--theme-secondary, var(--meeting-1-secondary)) !important;
}

.dynamic-bg-surface {
  background: var(--theme-surface, var(--meeting-1-surface)) !important;
}

.dynamic-border-primary {
  border-color: var(--theme-primary, var(--meeting-1-primary)) !important;
}

.dynamic-gradient {
  background: linear-gradient(
    135deg,
    var(--theme-primary, var(--meeting-1-primary)) 0%,
    var(--theme-secondary, var(--meeting-1-secondary)) 100%
  ) !important;
}
