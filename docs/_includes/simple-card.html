<!-- Simple Unified Card Component -->
<!-- 
Usage: Single component for all card types - pass in all data needed
Parameters:
- type: "insight", "discussion", "action", "resource", "metric", "media", "application", "statement" (required)
- icon: FontAwesome icon class (optional)
- title: Card title (required)
- subtitle: Card subtitle (optional)
- description: Main description text (optional)
- question: Question text (for discussion cards) (optional)
- items: Array/pipe-separated list of items (optional)
- links: Pipe-separated "Title|URL" pairs (optional)
- theme: Color theme "primary", "success", "warning", "info", "neutral" (default: "primary")
- goal: Goal text (for metric cards) (optional)
- attribution: Attribution text (for statement cards) (optional)
- media_url: URL for media content (optional)
- media_type: "video" or "audio" (optional)
-->

<div
  class="simple-card {{ include.type }}-card {{ include.theme | default: 'primary' }}-theme"
  markdown="0"
>
  <!-- Header -->
  <div class="card-header">
    {% if include.icon %}<i class="{{ include.icon }}"></i>{% endif %}
    <div class="card-titles">
      <h4>{{ include.title }}</h4>
      {% if include.subtitle %}<span class="card-subtitle"
        >{{ include.subtitle }}</span
      >{% endif %}
    </div>
  </div>

  <!-- Content -->
  <div class="card-content">
    {% if include.description %}
    <p class="card-description">{{ include.description }}</p>
    {% endif %} {% if include.question %}
    <p class="card-question"><strong>{{ include.question }}</strong></p>
    {% endif %}

    <!-- Media content -->
    {% if include.media_url %}
    <div class="media-container">
      {% if include.media_type == "video" %}
      <video controls>
        <source src="{{ include.media_url }}" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      {% elsif include.media_type == "audio" %}
      <audio controls>
        <source src="{{ include.media_url }}" type="audio/mpeg" />
        Your browser does not support the audio tag.
      </audio>
      {% endif %}
    </div>
    {% endif %}

    <!-- Goal (for metrics) -->
    {% if include.goal %}
    <div class="card-goal"><strong>Target:</strong> {{ include.goal }}</div>
    {% endif %}

    <!-- Items list -->
    {% if include.items %}
    <div class="card-items">
      {% assign items_array = include.items | split: '|' %} {% for item in
      items_array %} {% if include.type == "action" %}
      <div class="action-item">
        <i class="fas fa-circle action-icon"></i>
        <span class="action-text">{{ item | strip }}</span>
      </div>
      {% elsif include.type == "discussion" %}
      <div class="discussion-item">
        <i class="fas fa-comments discussion-icon"></i>
        <span class="discussion-text">{{ item | strip }}</span>
      </div>
      {% else %}
      <div class="list-item">{{ item | strip }}</div>
      {% endif %} {% endfor %}
    </div>
    {% endif %}

    <!-- Links (for resources) -->
    {% if include.links %}
    <div class="card-links">
      {% assign links_array = include.links | split: '|' %} {% assign link_count
      = links_array.size %} {% for i in (0..link_count) %} {% assign title_index
      = i | times: 2 %} {% assign url_index = title_index | plus: 1 %} {% if
      links_array[title_index] and links_array[url_index] %}
      <a
        href="{{ links_array[url_index] | strip }}"
        target="_blank"
        rel="noopener"
      >
        <i class="fas fa-circle resource-bullet"></i>{{ links_array[title_index]
        | strip }} <i class="fas fa-external-link-alt"></i>
      </a>
      {% endif %} {% endfor %}
    </div>
    {% endif %}

    <!-- Attribution (for statements) -->
    {% if include.attribution %}
    <div class="card-attribution">
      <cite>{{ include.attribution }}</cite>
    </div>
    {% endif %}
  </div>
</div>

