<!-- Reusable Related Resources Card Component -->
<!-- 
Usage: Supports pipe-separated links (title|url pairs) or YAML data
Parameters:
- icon: FontAwesome icon class (optional)
- title: Card title (required)
- description: Card description (optional)
- links: Pipe-separated "Title|URL" pairs or YAML data array (required)
- theme: color theme (default, culture, technical, books, tools, research)
- custom_class: additional CSS class (optional)
- show_external_icons: show external link icons (optional)
-->

<div class="resource-card {{ include.theme | default: 'default' }}-theme {{ include.custom_class }}" markdown="0">
  <h4>
    {% if include.icon %}<i class="{{ include.icon }}"></i>{% endif %}
    {{ include.title }}
  </h4>
  
  {% if include.description %}
  <p class="resource-description">{{ include.description }}</p>
  {% endif %}
  
  {% if include.links %}
  <ul>
    {% if include.links contains '|' %}
      {% assign links_array = include.links | split: '|' %}
      {% assign link_count = links_array.size %}
      {% assign pairs_count = link_count | divided_by: 2 %}
      {% for i in (0..pairs_count) %}
        {% assign index = i | times: 2 %}
        {% assign next_index = index | plus: 1 %}
        {% if links_array[index] and links_array[next_index] %}
          <li>
            <span aria-hidden="true">•</span>
            <a href="{{ links_array[next_index] | strip }}" target="_blank">
              {{ links_array[index] | strip }}
              {% if include.show_external_icons %}<i class="fas fa-external-link-alt"></i>{% endif %}
            </a>
          </li>
        {% endif %}
      {% endfor %}
    {% else %}
      {% for link in include.links %}
        <li>
          <span aria-hidden="true">•</span>
          <a href="{{ link.url }}" target="_blank">
            {{ link.title }}
            {% if include.show_external_icons %}<i class="fas fa-external-link-alt"></i>{% endif %}
          </a>
          {% if link.description %}<br><small class="link-description">{{ link.description }}</small>{% endif %}
        </li>
      {% endfor %}
    {% endif %}
  </ul>
  {% endif %}
  
  {% if include.content %}{{ include.content }}{% endif %}
</div>

<style>
/* Enhanced resource card with theme support */
.resource-card {
  background: white;
  padding: 1.5rem;
  border-radius: 16px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  border-left: 4px solid #1E3A8A;
  margin-bottom: 1.5rem;
}

.resource-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(30, 58, 138, 0.15);
}

.resource-card h4 {
  margin-bottom: 1rem;
  color: #1E3A8A;
  font-size: 1.1rem;
  font-weight: 600;
}

.resource-card h4 i {
  margin-right: 0.5rem;
}

.resource-description {
  color: #666;
  font-size: 0.9rem;
  margin-bottom: 1rem;
  line-height: 1.4;
  font-style: italic;
}

.resource-card ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.resource-card li {
  padding: 0.75rem 0;
  border-bottom: 1px solid #f0f0f0;
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
}

.resource-card li:last-child {
  border-bottom: none;
}

.resource-card li span[aria-hidden] {
  color: #1E3A8A;
  font-weight: bold;
  margin-top: 0.1rem;
}

.resource-card a {
  color: #1E3A8A;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}

.resource-card a:hover {
  color: #1e40af;
  text-decoration: underline;
}

.resource-card a .fa-external-link-alt {
  font-size: 0.8rem;
  opacity: 0.7;
}

.link-description {
  color: #666;
  font-size: 0.8rem;
  margin-top: 0.25rem;
  line-height: 1.3;
  display: block;
  margin-left: 1rem;
}

/* Theme variations */
.resource-card.culture-theme {
  border-left-color: #7c3aed;
  background: linear-gradient(135deg, #faf5ff, #f3e8ff);
}

.resource-card.culture-theme h4 {
  color: #6b21a8;
}

.resource-card.culture-theme li span[aria-hidden],
.resource-card.culture-theme a {
  color: #7c3aed;
}

.resource-card.technical-theme {
  border-left-color: #059669;
  background: linear-gradient(135deg, #f0fdf4, #dcfce7);
}

.resource-card.technical-theme h4 {
  color: #047857;
}

.resource-card.technical-theme li span[aria-hidden],
.resource-card.technical-theme a {
  color: #059669;
}

.resource-card.books-theme {
  border-left-color: #d97706;
  background: linear-gradient(135deg, #fffbeb, #fef3c7);
}

.resource-card.books-theme h4 {
  color: #92400e;
}

.resource-card.books-theme li span[aria-hidden],
.resource-card.books-theme a {
  color: #d97706;
}

.resource-card.tools-theme {
  border-left-color: #0891b2;
  background: linear-gradient(135deg, #f0fdfa, #ccfbf1);
}

.resource-card.tools-theme h4 {
  color: #0f766e;
}

.resource-card.tools-theme li span[aria-hidden],
.resource-card.tools-theme a {
  color: #0891b2;
}

.resource-card.research-theme {
  border-left-color: #dc2626;
  background: linear-gradient(135deg, #fef2f2, #fecaca);
}

.resource-card.research-theme h4 {
  color: #991b1b;
}

.resource-card.research-theme li span[aria-hidden],
.resource-card.research-theme a {
  color: #dc2626;
}

/* Featured resources styling */
.resource-card.featured-resources {
  padding: 2rem;
  border-left-width: 6px;
}

.resource-card.featured-resources h4 {
  font-size: 1.3rem;
}

.resource-card.featured-resources li {
  padding: 1rem 0;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .resource-card {
    padding: 1.25rem;
  }
  
  .resource-card.featured-resources {
    padding: 1.5rem;
  }
  
  .resource-card li {
    padding: 0.5rem 0;
  }
  
  .resource-card a {
    flex-direction: column;
    align-items: flex-start;
  }
}
</style>